{% extends 'interviewer/base.html' %}
{% load static %}
{% block style %}
<style>
    .panel-title a{
        padding: 10px;
        color: #0d152a;
        font-weight: bolder;
    }
    .panel-body{
        padding-bottom: 7%;
    }
    hr {
      border: 0;
      clear:both;
      display:block;
      width: 100%;
      background-color: #0d152a;
      height: 1px;
    }

    .tab-content{
        padding-top: 10%;
    }

    .nav-item{
        font-size: x-large;
    }

</style>
{% endblock %}

{% block body %}
<header id="header" class="header">
        <div class="">
            <div class="header">
                <h2>Interviews Scheduled</h2>
            </div>
        </div>
    </header>
    <div class="content mt-3">
        <div class="animated fadeIn">

            <div class="row">
                <div class="col-lg-12">
                        <div class="card">

                            <div class="card-body">
                                <div class="custom-tab">

                                    <nav>
                                        <div class="nav nav-tabs" id="nav-tab" role="tablist">

                                            <a class="nav-item nav-link" id="custom-nav-contact-tab" data-toggle="tab" href="#custom-nav-contact" role="tab" aria-controls="custom-nav-contact" aria-selected="false">Past Interviews</a>
                                            <a class="nav-item nav-link active" id="custom-nav-home-tab" data-toggle="tab" href="#custom-nav-home" role="tab" aria-controls="custom-nav-home" aria-selected="true">Today's Interviews</a>
                                            <a class="nav-item nav-link" id="custom-nav-profile-tab" data-toggle="tab" href="#custom-nav-profile" role="tab" aria-controls="custom-nav-profile" aria-selected="false">Future Interviews</a>

                                        </div>
                                    </nav>
                                    <div class="tab-content pl-3 pt-2" id="nav-tabContent">
                                        <div class="tab-pane fade show active" id="custom-nav-home" role="tabpanel" aria-labelledby="custom-nav-home-tab">
                                          {% for interview in today_interview %}
                                          {{ for.count }}
                                            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                              <div class="panel panel-default">
                                                  <div class="panel-heading" role="tab" id="{{ interview.pk }}">
                                                    <h4 class="panel-title">
                                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{ interview.pk }}" aria-expanded="true" aria-controls="collapse{{ interviewee.pk }}">
                                                      {{interview.interviewee.name}}
                                                    <i class="fa fa-caret-down"></i>
                                                    </a>

                                                  </h4>
                                                  </div>
                                                  <div id="collapse{{ interview.pk }}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="{{ interviewee.pk }}">
                                                    <div class="panel-body">
                                                        <hr>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                            Interview Link
                                                        </div>
                                                        <div class="col-sm-6">
                                                          <a href="{% url 'editor:editor' interview.token %}" class="link" id="{{ interview.token }}">Join Now</a>
                                                        </div>
                                                      </div>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                          Start Time
                                                        </div>
                                                        <div class="col-sm-6">
                                                          {{ interview.startTime }}
                                                        </div>
                                                      </div>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                          End Time
                                                        </div>
                                                        <div class="col-sm-6">
                                                          {{ interview.endTime }}
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                              </div>
                                            </div>
                                            <hr>
                                          {% endfor %}
                                        </div>
                                        <div class="tab-pane fade" id="custom-nav-profile" role="tabpanel" aria-labelledby="custom-nav-profile-tab">
                                          {% for interview in future_interview %}
                                          {{ for.count }}
                                          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                              <div class="panel panel-default">
                                                  <div class="panel-heading" role="tab" id="{{ interview.pk }}">
                                                    <h4 class="panel-title">
                                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{ interview.pk }}" aria-expanded="true" aria-controls="collapse{{ interviewee.pk }}">
                                                      {{interview.interviewee.name}}
                                                    <i class="fa fa-caret-down"></i></a>

                                                  </h4>
                                                  </div>
                                                  <div id="collapse{{ interview.pk }}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="{{ interviewee.pk }}">
                                                    <div class="panel-body">
                                                        <hr>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                            Interview Link
                                                        </div>
                                                        <div class="col-sm-6">
                                                          <a href="{% url 'editor:editor' interview.token %}" class="link" id="{{ interview.token }}">Join Now</a>
                                                        </div>
                                                      </div>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                          Start Time
                                                        </div>
                                                        <div class="col-sm-6">
                                                          {{ interview.startTime }}
                                                        </div>
                                                      </div>
                                                      <div class="col email-entry">
                                                        <div class="col-sm-6">
                                                          End Time
                                                        </div>
                                                        <div class="col-sm-6">
                                                          {{ interview.endTime }}
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                              </div>
                                          </div>
                                            <hr>
                                          {% endfor %}
                                        </div>
                                        <div class="tab-pane fade" id="custom-nav-contact" role="tabpanel" aria-labelledby="custom-nav-contact-tab">
                                          {% for interview in past_interview %}
                                          {{ for.count }}
                                            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                                    <div class="panel panel-default">
                                                        <div class="panel-heading" role="tab" id="{{ interview.pk }}">
                                                          <h4 class="panel-title">
                                                          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{ interview.pk }}" aria-expanded="true" aria-controls="collapse{{ interviewee.pk }}">
                                                            {{interview.interviewee.name}}
                                                          <i class="fa fa-caret-down"></i></a>

                                                          </h4>
                                                        </div>
                                                        <div id="collapse{{ interview.pk }}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="{{ interviewee.pk }}">
                                                          <div class="panel-body">
                                                              <hr>
                                                            <div class="col email-entry">
                                                              <div class="col-sm-6">
                                                                Start Time
                                                              </div>
                                                              <div class="col-sm-6">
                                                                {{ interview.startTime }}
                                                              </div>
                                                            </div>
                                                            <div class="col email-entry">
                                                              <div class="col-sm-6">
                                                                End Time
                                                              </div>
                                                              <div class="col-sm-6">
                                                                {{ interview.endTime }}
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>
                                                    </div>

                                            </div>
                                            <hr>
                                          {% endfor %}
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
            </div>
    </div><!-- .animated -->
    </div><!-- .content -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $('.link').click(function (){
    var token = $(this).attr('id');
    console.log(token);
    var url = '127.0.0.1/interviewer/interviewScheduled' + token;
    console.log(url);
    window.location.assign(token);
    console.log('clicked');
});
</script>
{% endblock %}